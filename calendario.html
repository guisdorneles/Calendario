<html>
<head>
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap-datepicker.js"></script>
    <script src="js/locales/bootstrap-datepicker.pt-BR.min.js"></script>
    <script src="js/bootstrap-datepicker-globalize.js"></script>
    <link rel="stylesheet" href="css/bootstrap-datepicker3.standalone.css">
    <meta charset="utf-8" />
</head>
<body>
    <p>Data Inicio:<input type="text" id="txtDtInicial" />
    <p>Data Fim :<input type="text" id="txtDtFinal" />
    <p>
        Periodo :<input type="text" id="txtPeriodo" onblur="FaixaDatas()" />
        <div id="datepicker" />
    </p>
</body>
</html>

<script type="text/javascript">
    $(document).ready(function () {
        CarregarCalendario(false, 0, 0, 1);
    });

    //Variaveis globais
    //ATENÇÃO: LIMPAR O ARRAY APÓS ENVIAR OS DADOS PARA CONTROLLER
    var listaPeriodoData = new Array();

    function FaixaDatas() {

        CarregarCalendario(true, parseInt($("#txtDtInicial").val()), parseInt($("#txtDtFinal").val()), parseInt($("#txtPeriodo").val()));
    };

    function CarregarCalendario(usarFaixaData, dataInicio, dataFim, periodo) {
        $("#datepicker").datepicker({
            multidate: true,
            format: 'dd/mm/yyyy',
            language: 'pt-BR',
            locale: 'pt-BR'
        });

        if (usarFaixaData) {

            var arrayPeriodoData = CriarFaixaDatas(dataInicio, dataFim, periodo);

            $("#datepicker").datepicker({
                multidate: true,
                format: 'dd/mm/yyyy',
                language: 'pt-BR',
                locale: 'pt-BR',
                beforeShowDay: function (date) {
                    if (arrayPeriodoData.periodo == 1) {
                        return {
                            classes: 'periodo1'
                        };
                    }
                    else if (arrayPeriodoData.periodo == 2) {
                        return {
                            classes: 'periodo2'
                        };
                    }
                    else if (arrayPeriodoData.periodo == 3) {
                        return {
                            classes: 'periodo3'
                        };
                    }
                }
            });
        }
    };

    function CriarFaixaDatas(dtInicio, dtFim, periodo) {
        var data = new Date();
        var mes = data.getMonth();
        var ano = data.getFullYear();
        for (var i = dtInicio; i <= dtFim; i++) {
            listaPeriodoData.push({
                "periodo": periodo,
                "data": new Date(ano, mes, i)
            });
        }
        return listaPeriodoData;
    };

    function AdicionarClassePeriodo(periodo) {
        if (periodo == 1) {
            return [true, 'periodo2'];
        }
        else if (periodo == 2) {
            return [true, 'periodo2'];
        }
        else if (periodo == 3) {
            return [true, 'periodo3'];
        }
    }
</script>