<html>
<head>
    <link rel="stylesheet" href="css/pesquisa.css" />
	<script src="js/jquery.js"></script>
	
    <meta charset="utf-8" />
</head>
<body>
	 <div class="dropdown">
	  <div id="myDropdown" class="dropdown-content">
		<input type="text" placeholder="Pesquisar.." id="myInput" onfocusout = "Sair2(this)">
		<ul class="listItens invisivel">
		</ul>
	  </div>	 
	</div>
	<div>
		 <input type="checkbox" /><span>teste</span>
	</div>
</body>
</html>

<script type="text/javascript">
	
	
	$(document).ready(function(){		
				
	  $("#myInput").on("keyup", function() { 
		var textoPesquisa = $(this).val().toLowerCase();
		$(".listItens").css("display","block");
		if (textoPesquisa.length >= 3){
			$(".listItens").removeClass("invisivel");
			CarregarLista();
			$(".listItens li").filter(function() {
				$(this).toggle($(this).text().toLowerCase().indexOf(textoPesquisa) > -1)
			});
			
			if($('.listItens li:not([style*="display: none"])').length == 0){	
				$(".listItens").html("<li><span>fornecedor n√£o encontrado</span></li>");
			}
		}
		else
			$(".listItens").html("<li><span>Digite pelo menos 3 caracteres </span></li>");
	  });	  
	});
	
	function selecionarTodos(obj) {
			$("input:checkbox[name ='name_teste']").prop('checked', $(obj).prop("checked"));
		};
	
	function CarregarLista(){
		var arrayDados = [
				{	
					id : 1,
					descricao : "Laranja"
				},
				{	
					id : 2,
					descricao : "Vermelho"
				},
				{	
					id : 3,
					descricao : "Azul"
				},
				{	
					id : 4,
					descricao : "Azul Turquesa"
				},
				{	
					id : 5,
					descricao : "Azul Escuro"
				},
				{	
					id : 6,
					descricao : "Verde"
				},
				{	
					id : 7,
					descricao : "Branco"
				},
				{	
					id : 8,
					descricao : "Cinza"
				},
				{	
					id : 9,
					descricao : "Roxo"
				}
			];
		$(".listItens").html("");
		$.each(arrayDados, function(index, valor){
			if(index == 0){
				$(".listItens").append('<li><span tabindex = 0 onclick="ClickLista(this)" onfocus = "ClickLista2(this)" onkeypress="Sair()">'+ valor.descricao +'</span></li>');
			}
			else{
				$(".listItens").append('<li><span tabindex =  0 onclick="ClickLista(this)" onfocus = "ClickLista2(this)"   onkeypress="Sair(this)">'+ valor.descricao +'</span></li>');
			}				 
	})};
	
	function ClickLista(obj)
	{
		$("#myInput").val($(obj).text());
		$(".listItens").css("display","none");
	}
	
	function ClickLista2(obj)
	{
		$("#myInput").val($(obj).text());
	}
		
	function Sair(obj)
	{
		if(event.keyCode === 13)
			$(".listItens").css("display","none");
	}	
	
	
</script>